/*!
 * bload.js v0.4.0
 */
!function(i){var o=function(i,o,a){this.showing=!1,this.$tomask=i,this.options=o,this.callback=a,this.show()};o.prototype.show=function(){var o=this;if(1!=o.showing){var a=o.$tomask.offset();if(0==o.options.fullScreen){switch(o.options.imageAlign){case"top":var t=a.left+(o.$tomask.width()-(o.options.imageDims.w+2*o.options.imagePadding))/2,s=a.top+8;break;case"bottom":var t=a.left+(o.$tomask.width()-(o.options.imageDims.w+2*o.options.imagePadding))/2,s=a.top+(o.$tomask.height()-(o.options.imageDims.h+2*o.options.imagePadding)-8);break;case"left":var t=a.left+8,s=a.top+(o.$tomask.height()-(o.options.imageDims.h+2*o.options.imagePadding))/2;break;case"right":var t=a.left+(o.$tomask.width()-(o.options.imageDims.w+2*o.options.imagePadding)-8),s=a.top+(o.$tomask.height()-(o.options.imageDims.h+2*o.options.imagePadding))/2;break;default:var t=a.left+(o.$tomask.width()-(o.options.imageDims.w+2*o.options.imagePadding))/2,s=a.top+(o.$tomask.height()-(o.options.imageDims.h+2*o.options.imagePadding))/2}var e="absolute"}else var t=(i(window).width()-(o.options.imageDims.w+2*o.options.imagePadding))/2,s=(i(window).height()-(o.options.imageDims.h+2*o.options.imagePadding))/2,e="fixed";var n={padding:o.options.imagePadding+"px",backgroundColor:"#000",position:e,borderRadius:"4px 4px 4px 4px",top:s,left:t,zIndex:1e4};o.$mask=i("<div />").css(n);var p=0==o.$tomask.is(":visible")&&0==o.options.fullScreen?!1:!0;if(p&&o.$mask.append(o.options.imagePath===!1?i("<div />").addClass("bloading"):i("<div />").css({backgroundImage:"url("+o.options.imagePath+")",width:o.options.imageDims.w+"px",height:o.options.imageDims.h+"px"})),callback=o.callback,o.showing=!0,o.options.overlay.show===!0){var d={position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:o.options.overlay.color,zIndex:9999};0==o.options.fullScreen&&(d.position="absolute",d.top=a.top+"px",d.left=a.left+"px",d.width=o.$tomask.width()+"px",d.height=o.$tomask.height()+"px"),p&&(o.$overlay=i("<div />").css(d),i("body").append(o.$overlay.fadeTo(o.options.fadeInSpeed,o.options.overlay.opacity)))}i("body").append(o.$mask.fadeTo(o.options.fadeInSpeed,o.options.maskOpacity,function(){i.isFunction(callback)&&callback.call(this,o)}))}},o.prototype.hide=function(){this.showing=!1,this.$mask.remove(),1==this.options.overlay.show&&this.$overlay.remove()},i.fn.bload=function(a,t){var s={fadeInSpeed:300,maskOpacity:.4,imagePath:!1,imagePadding:16,imageDims:{w:32,h:32},imageAlign:"center",fullScreen:!1,overlay:{show:!1,color:"#000",opacity:.2}};if(i.isFunction(a))t=a,a=s;else var a=i.extend(!0,s,a);if(i(this).data("bloadInit")===!0)var e=i(this).data("bload");else{i(this).data("bloadInit",!0);var e=new o(i(this),a,t);i(this).data("bload",e)}return e}}(jQuery);